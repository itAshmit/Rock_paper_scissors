<!DOCTYPE html>
<html lang="en">
<head>
    <title>Rock_paper_Scissors</title>
</head>
<body style="
    background-color: lightgreen;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    ">
    <fieldset style="margin-bottom: 150px;
    border: 2px solid black;
    box-shadow: inset 0px 0px 10px 1px rgba(0, 0, 0, 0.5);
    border-radius: 5px;
    ">
    <div title="Rock Paper Scissors" style="font-family: Arial, Helvetica, sans-serif;
        flex: 1;
        font-weight: bolder;
        color: black;
        text-decoration:underline rgb(1, 37, 1);
        font-style: italic;
        cursor: pointer;
        ">
    <p>Rock Paper Scissor</p>
    </div>
    </fieldset>
    <fieldset style="background-color: rgba(3, 102, 3, 0.525);
    border-top-left-radius: 10px;
    border-bottom-right-radius: 10px;
    border: 2px solid black;
    box-shadow: 5px 5px 10px 1px rgba(0, 0, 0, 0.3);">
    <div style="
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    ">
    <button style="
        background-color: rgb(30, 46, 52);
        color: white;
        margin: 15px;
        padding: 5px 10px;
        cursor: pointer;
        border: 1px solid white;
        box-shadow: 0px 0px 2px 2px rgba(45, 33, 33, 0.5);
    " 
    onclick="
    playerTurn('Rock');    
    ">Rock</button>
    <button style="
        background-color: rgb(30, 46, 52);
    color: white;
    margin: 15px;
    padding: 5px 10px;
    cursor: pointer;
    border: 1px solid white;
    box-shadow: 0px 0px 2px 2px rgba(45, 33, 33, 0.5);
    " 
    onclick=" 
        playerTurn(`Paper`);
    ">Paper</button>
    <button style="
    background-color: rgb(30, 46, 52);
    color: white;
    margin: 15px;
    padding: 5px 10px;
    cursor: pointer;
    border: 1px solid white;
    box-shadow: 0px 0px 2px 2px rgba(45, 33, 33, 0.5);
    " 
     onclick="
     playerTurn(`Scissors`);
    ">Scissors</button>
    </div>
</fieldset>
<button style="
    background-color: rgb(174, 17, 17);
    color: white;
    margin: 15px;
    padding: 5px 10px;
    cursor: pointer;
    border: 1px solid white;
    box-shadow: 0px 0px 2px 2px rgba(45, 33, 33, 0.5);
    " onclick="
        Score.win=0;
        Score.loss=0;
        Score.Tie=0;
        localStorage.removeItem('Score');
    ">Reset Score</button>
<script>
    let Score=JSON.parse(localStorage.getItem('Score'))||{
        win:0,
        loss:0,
        Tie:0
    };
    let playerMove;
    let computerMove=0;
    let result='';

    /*
    if(Score===null){
        Score= {
            win:0,
            loss:0,
            Tie:0
        };
    }*/
    function playerTurn(playerMove){
        computerMove=Math.random();
    if(computerMove>0 && computerMove<1/3){
        computerMove='Paper';
        finalMove(playerMove,computerMove);
    } else if(computerMove>1/3 && computerMove<2/3){
        computerMove='Rock';
        finalMove(playerMove,computerMove);
    } else if(computerMove>2/3 && computerMove<1){
        computerMove='Scissors';
        finalMove(playerMove,computerMove);
    }


    function finalMove(playerMove,computerMove){
       console.log(computerMove);
            if((playerMove==='Paper' && computerMove==='Paper') || (playerMove==='Rock' && computerMove==='Rock') || (playerMove==='Scissors' && computerMove==='Scissors')){
                result='TIE';
            }
            else if(playerMove==='Rock' && computerMove==='Paper' || playerMove==='Paper' && computerMove==='Scissors' || playerMove==='Scissors' && computerMove==='Rock'){
                result='You LOSE';
            }
            else if(playerMove==='Rock' && computerMove==='Scissors' || playerMove==='Paper' && computerMove==='Rock' || playerMove==='Scissors' && computerMove==='Paper'){
                result='You WIN';
            }
        }
        if(result==='TIE'){
            Score.Tie+=1;
        }else if(result==='You LOSE'){
            Score.loss+=1;
        }else if(result==='You WIN'){
            Score.win+=1;
        }

        localStorage.setItem('Score',JSON.stringify(Score));
        alert(`${result}, COMPUTER chose ${computerMove}, YOU chose ${playerMove}
Win: ${Score.win}, Loss: ${Score.loss}, Tie: ${Score.Tie}`);
    }
</script>
</body>
</html>